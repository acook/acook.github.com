---
slug: rails-webserver-research
fulldate: Sat Mar 19 2011 19:49:00 GMT-0500 (CDT)
tags: unicorn, ruby, rails, passenger, thin, apache, nginx, benchmarking
title: Rails webserver research
id: 3971165754
link: http://anthonymcook.com/post/3971165754/rails-webserver-research
raw: {"blog_name":"anthonymcook","id":3971165754,"post_url":"http://anthonymcook.com/post/3971165754/rails-webserver-research","slug":"rails-webserver-research","type":"text","date":"2011-03-20 00:49:00 GMT","timestamp":1300582140,"state":"published","format":"markdown","reblog_key":"8MVtyE2p","tags":["unicorn","ruby","rails","passenger","thin","apache","nginx","benchmarking"],"short_url":"http://tmblr.co/Z8I8zx3iiouw","summary":"Rails webserver research","recommended_source":null,"recommended_color":null,"highlighted":[],"note_count":6,"title":"Rails webserver research","body":"<h1>Summary</h1>\n\n<ul><li><a href=\"http://unicorn.bogomips.org/\" target=\"_blank\">Unicorn</a>&rsquo;s deployment strategy is superior to Passenger&rsquo;s, it allows upgrades of application code and even of the Unicorn binary itself without downtime. Oh yeah, and its also faster and uses less memory than passenger.</li>\n<li><a href=\"http://nginx.org/\" target=\"_blank\">Nninx</a> seems to be easier to configure and its purported to be faster and use less memory than apache.</li>\n</ul><h1>Side notes</h1>\n\n<ul><li><a href=\"http://code.macournoyer.com/thin/\" target=\"_blank\">Thin</a> is great for serving up tiny, fast requests, and has better memory usage than anything else.</li>\n<li><a href=\"http://www.modrails.com/\" target=\"_blank\">Passenger</a> has some cases where it may periodically respond to some requests when its overloaded.</li>\n</ul><h2>Server Benchmarking</h2>\n\n<ul><li><a href=\"http://code.google.com/p/httperf/\" target=\"_blank\">httperf</a></li>\n<li><a href=\"http://www.xenoclast.org/autobench/\" target=\"_blank\">autobench</a> is a perl wrapper for httperf that adds features.</li>\n<li><a href=\"http://openwebload.sourceforge.net/\" target=\"_blank\">OpenWebLoad</a></li>\n<li><a href=\"http://httpd.apache.org/docs/2.0/programs/ab.html\" target=\"_blank\">apachebench</a></li>\n<li><a href=\"http://loadimpact.com/\" target=\"_blank\">LoadImpact</a> is a pay-for service for testing servers.</li>\n</ul><h1>References</h1>\n\n<h2>Setup Guide for nginx and Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/\" target=\"_blank\">http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/</a></li>\n<li>2011: <a href=\"http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html\" target=\"_blank\">http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html</a></li>\n</ul><h2>Passenger, Thin, Unicorn</h2>\n\n<ul><li>2009: <a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">https://github.com/blog/517-unicorn</a></li>\n<li>2010: <a href=\"http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark\" target=\"_blank\">http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark</a></li>\n<li>2010: <a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">http://engineering.twitter.com/2010/03/unicorn-power.html</a></li>\n</ul><h2>Info on Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/\" target=\"_blank\">http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/</a></li>\n</ul><h2>Info on Passenger (note the nginx graph)</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/\" target=\"_blank\">http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/</a></li>\n</ul><h2>Web servers</h2>\n\n<ul><li>2011: <a href=\"http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/\" target=\"_blank\">http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/</a></li>\n<li>2010: <a href=\"http://www.mariusv.com/nginx-vs-apache-1-0/\" target=\"_blank\">http://www.mariusv.com/nginx-vs-apache-1-0/</a></li>\n<li>2010: <a href=\"http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose\" target=\"_blank\">http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose</a></li>\n<li>2010: <a href=\"http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer\" target=\"_blank\">http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer</a></li>\n</ul><h2>Popular services&rsquo; server choices</h2>\n\n<ul><li><a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">Twitter uses Apache with Unicorn</a>.</li>\n<li><a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">GitHub uses nginx with Unicorn</a>.</li>\n</ul><h1>More Cool Stuff</h1>\n\n<h2>JRuby vs Ruby</h2>\n\n<ul><li>2011: <a href=\"http://torquebox.org/news/2011/02/23/benchmarking-torquebox/\" target=\"_blank\">http://torquebox.org/news/2011/02/23/benchmarking-torquebox/</a></li>\n<li>2011: <a href=\"http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/\" target=\"_blank\">http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/</a></li>\n<li>It&rsquo;s worth pointing out that Unicorn comes out ahead of the other non-JRuby servers in all the benchmarks that are anywhere near a real-world situation.</li>\n</ul><h2>Passenger in development</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/\" target=\"_blank\">http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/</a></li>\n</ul><h2>Twitter uses MySQL for storing Tweets, and Cassandra for statistics and datamining</h2>\n\n<ul><li>2010: <a href=\"http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html\" target=\"_blank\">http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html</a></li>\n</ul>","reblog":{"tree_html":"","comment":"<p><h1>Summary</h1>\n\n<ul><li><a href=\"http://unicorn.bogomips.org/\" target=\"_blank\">Unicorn</a>’s deployment strategy is superior to Passenger’s, it allows upgrades of application code and even of the Unicorn binary itself without downtime. Oh yeah, and its also faster and uses less memory than passenger.</li>\n<li><a href=\"http://nginx.org/\" target=\"_blank\">Nninx</a> seems to be easier to configure and its purported to be faster and use less memory than apache.</li>\n</ul><h1>Side notes</h1>\n\n<ul><li><a href=\"http://code.macournoyer.com/thin/\" target=\"_blank\">Thin</a> is great for serving up tiny, fast requests, and has better memory usage than anything else.</li>\n<li><a href=\"http://www.modrails.com/\" target=\"_blank\">Passenger</a> has some cases where it may periodically respond to some requests when its overloaded.</li>\n</ul><h2>Server Benchmarking</h2>\n\n<ul><li><a href=\"http://code.google.com/p/httperf/\" target=\"_blank\">httperf</a></li>\n<li><a href=\"http://www.xenoclast.org/autobench/\" target=\"_blank\">autobench</a> is a perl wrapper for httperf that adds features.</li>\n<li><a href=\"http://openwebload.sourceforge.net/\" target=\"_blank\">OpenWebLoad</a></li>\n<li><a href=\"http://httpd.apache.org/docs/2.0/programs/ab.html\" target=\"_blank\">apachebench</a></li>\n<li><a href=\"http://loadimpact.com/\" target=\"_blank\">LoadImpact</a> is a pay-for service for testing servers.</li>\n</ul><h1>References</h1>\n\n<h2>Setup Guide for nginx and Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/\" target=\"_blank\">http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/</a></li>\n<li>2011: <a href=\"http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html\" target=\"_blank\">http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html</a></li>\n</ul><h2>Passenger, Thin, Unicorn</h2>\n\n<ul><li>2009: <a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">https://github.com/blog/517-unicorn</a></li>\n<li>2010: <a href=\"http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark\" target=\"_blank\">http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark</a></li>\n<li>2010: <a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">http://engineering.twitter.com/2010/03/unicorn-power.html</a></li>\n</ul><h2>Info on Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/\" target=\"_blank\">http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/</a></li>\n</ul><h2>Info on Passenger (note the nginx graph)</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/\" target=\"_blank\">http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/</a></li>\n</ul><h2>Web servers</h2>\n\n<ul><li>2011: <a href=\"http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/\" target=\"_blank\">http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/</a></li>\n<li>2010: <a href=\"http://www.mariusv.com/nginx-vs-apache-1-0/\" target=\"_blank\">http://www.mariusv.com/nginx-vs-apache-1-0/</a></li>\n<li>2010: <a href=\"http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose\" target=\"_blank\">http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose</a></li>\n<li>2010: <a href=\"http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer\" target=\"_blank\">http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer</a></li>\n</ul><h2>Popular services’ server choices</h2>\n\n<ul><li><a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">Twitter uses Apache with Unicorn</a>.</li>\n<li><a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">GitHub uses nginx with Unicorn</a>.</li>\n</ul><h1>More Cool Stuff</h1>\n\n<h2>JRuby vs Ruby</h2>\n\n<ul><li>2011: <a href=\"http://torquebox.org/news/2011/02/23/benchmarking-torquebox/\" target=\"_blank\">http://torquebox.org/news/2011/02/23/benchmarking-torquebox/</a></li>\n<li>2011: <a href=\"http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/\" target=\"_blank\">http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/</a></li>\n<li>It’s worth pointing out that Unicorn comes out ahead of the other non-JRuby servers in all the benchmarks that are anywhere near a real-world situation.</li>\n</ul><h2>Passenger in development</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/\" target=\"_blank\">http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/</a></li>\n</ul><h2>Twitter uses MySQL for storing Tweets, and Cassandra for statistics and datamining</h2>\n\n<ul><li>2010: <a href=\"http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html\" target=\"_blank\">http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html</a></li>\n</ul></p>"},"trail":[{"blog":{"name":"anthonymcook","active":true,"theme":{"avatar_shape":"circle","background_color":"#FAFAFA","body_font":"Helvetica Neue","header_bounds":"","header_image":"https://secure.assets.tumblr.com/images/default_header/optica_pattern_05.png?_v=671444c5f47705cce40d8aefd23df3b1","header_image_focused":"https://secure.assets.tumblr.com/images/default_header/optica_pattern_05_focused_v3.png?_v=671444c5f47705cce40d8aefd23df3b1","header_image_scaled":"https://secure.assets.tumblr.com/images/default_header/optica_pattern_05_focused_v3.png?_v=671444c5f47705cce40d8aefd23df3b1","header_stretch":true,"link_color":"#529ECC","show_avatar":true,"show_description":true,"show_header_image":true,"show_title":true,"title_color":"#444444","title_font":"Gibson","title_font_weight":"bold"}},"post":{"id":"3971165754"},"content_raw":"<p><h1>Summary</h1>\n\n<ul><li><a href=\"http://unicorn.bogomips.org/\" target=\"_blank\">Unicorn</a>’s deployment strategy is superior to Passenger’s, it allows upgrades of application code and even of the Unicorn binary itself without downtime. Oh yeah, and its also faster and uses less memory than passenger.</li>\n<li><a href=\"http://nginx.org/\" target=\"_blank\">Nninx</a> seems to be easier to configure and its purported to be faster and use less memory than apache.</li>\n</ul><h1>Side notes</h1>\n\n<ul><li><a href=\"http://code.macournoyer.com/thin/\" target=\"_blank\">Thin</a> is great for serving up tiny, fast requests, and has better memory usage than anything else.</li>\n<li><a href=\"http://www.modrails.com/\" target=\"_blank\">Passenger</a> has some cases where it may periodically respond to some requests when its overloaded.</li>\n</ul><h2>Server Benchmarking</h2>\n\n<ul><li><a href=\"http://code.google.com/p/httperf/\" target=\"_blank\">httperf</a></li>\n<li><a href=\"http://www.xenoclast.org/autobench/\" target=\"_blank\">autobench</a> is a perl wrapper for httperf that adds features.</li>\n<li><a href=\"http://openwebload.sourceforge.net/\" target=\"_blank\">OpenWebLoad</a></li>\n<li><a href=\"http://httpd.apache.org/docs/2.0/programs/ab.html\" target=\"_blank\">apachebench</a></li>\n<li><a href=\"http://loadimpact.com/\" target=\"_blank\">LoadImpact</a> is a pay-for service for testing servers.</li>\n</ul><h1>References</h1>\n\n<h2>Setup Guide for nginx and Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/\" target=\"_blank\">http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/</a></li>\n<li>2011: <a href=\"http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html\" target=\"_blank\">http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html</a></li>\n</ul><h2>Passenger, Thin, Unicorn</h2>\n\n<ul><li>2009: <a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">https://github.com/blog/517-unicorn</a></li>\n<li>2010: <a href=\"http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark\" target=\"_blank\">http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark</a></li>\n<li>2010: <a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">http://engineering.twitter.com/2010/03/unicorn-power.html</a></li>\n</ul><h2>Info on Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/\" target=\"_blank\">http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/</a></li>\n</ul><h2>Info on Passenger (note the nginx graph)</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/\" target=\"_blank\">http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/</a></li>\n</ul><h2>Web servers</h2>\n\n<ul><li>2011: <a href=\"http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/\" target=\"_blank\">http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/</a></li>\n<li>2010: <a href=\"http://www.mariusv.com/nginx-vs-apache-1-0/\" target=\"_blank\">http://www.mariusv.com/nginx-vs-apache-1-0/</a></li>\n<li>2010: <a href=\"http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose\" target=\"_blank\">http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose</a></li>\n<li>2010: <a href=\"http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer\" target=\"_blank\">http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer</a></li>\n</ul><h2>Popular services’ server choices</h2>\n\n<ul><li><a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">Twitter uses Apache with Unicorn</a>.</li>\n<li><a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">GitHub uses nginx with Unicorn</a>.</li>\n</ul><h1>More Cool Stuff</h1>\n\n<h2>JRuby vs Ruby</h2>\n\n<ul><li>2011: <a href=\"http://torquebox.org/news/2011/02/23/benchmarking-torquebox/\" target=\"_blank\">http://torquebox.org/news/2011/02/23/benchmarking-torquebox/</a></li>\n<li>2011: <a href=\"http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/\" target=\"_blank\">http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/</a></li>\n<li>It’s worth pointing out that Unicorn comes out ahead of the other non-JRuby servers in all the benchmarks that are anywhere near a real-world situation.</li>\n</ul><h2>Passenger in development</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/\" target=\"_blank\">http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/</a></li>\n</ul><h2>Twitter uses MySQL for storing Tweets, and Cassandra for statistics and datamining</h2>\n\n<ul><li>2010: <a href=\"http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html\" target=\"_blank\">http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html</a></li>\n</ul></p>","content":"<p><h1>Summary</h1>\n\n<ul><li><a href=\"http://unicorn.bogomips.org/\" target=\"_blank\">Unicorn</a>’s deployment strategy is superior to Passenger’s, it allows upgrades of application code and even of the Unicorn binary itself without downtime. Oh yeah, and its also faster and uses less memory than passenger.</li>\n<li><a href=\"http://nginx.org/\" target=\"_blank\">Nninx</a> seems to be easier to configure and its purported to be faster and use less memory than apache.</li>\n</ul><h1>Side notes</h1>\n\n<ul><li><a href=\"http://code.macournoyer.com/thin/\" target=\"_blank\">Thin</a> is great for serving up tiny, fast requests, and has better memory usage than anything else.</li>\n<li><a href=\"http://www.modrails.com/\" target=\"_blank\">Passenger</a> has some cases where it may periodically respond to some requests when its overloaded.</li>\n</ul><h2>Server Benchmarking</h2>\n\n<ul><li><a href=\"http://code.google.com/p/httperf/\" target=\"_blank\">httperf</a></li>\n<li><a href=\"http://www.xenoclast.org/autobench/\" target=\"_blank\">autobench</a> is a perl wrapper for httperf that adds features.</li>\n<li><a href=\"http://openwebload.sourceforge.net/\" target=\"_blank\">OpenWebLoad</a></li>\n<li><a href=\"http://httpd.apache.org/docs/2.0/programs/ab.html\" target=\"_blank\">apachebench</a></li>\n<li><a href=\"http://loadimpact.com/\" target=\"_blank\">LoadImpact</a> is a pay-for service for testing servers.</li>\n</ul><h1>References</h1>\n\n<h2>Setup Guide for nginx and Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/\" target=\"_blank\">http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/</a></li>\n<li>2011: <a href=\"http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html\" target=\"_blank\">http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html</a></li>\n</ul><h2>Passenger, Thin, Unicorn</h2>\n\n<ul><li>2009: <a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">https://github.com/blog/517-unicorn</a></li>\n<li>2010: <a href=\"http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark\" target=\"_blank\">http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark</a></li>\n<li>2010: <a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">http://engineering.twitter.com/2010/03/unicorn-power.html</a></li>\n</ul><h2>Info on Unicorn</h2>\n\n<ul><li>2010: <a href=\"http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/\" target=\"_blank\">http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/</a></li>\n</ul><h2>Info on Passenger (note the nginx graph)</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/\" target=\"_blank\">http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/</a></li>\n</ul><h2>Web servers</h2>\n\n<ul><li>2011: <a href=\"http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/\" target=\"_blank\">http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/</a></li>\n<li>2010: <a href=\"http://www.mariusv.com/nginx-vs-apache-1-0/\" target=\"_blank\">http://www.mariusv.com/nginx-vs-apache-1-0/</a></li>\n<li>2010: <a href=\"http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose\" target=\"_blank\">http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose</a></li>\n<li>2010: <a href=\"http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer\" target=\"_blank\">http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer</a></li>\n</ul><h2>Popular services’ server choices</h2>\n\n<ul><li><a href=\"http://engineering.twitter.com/2010/03/unicorn-power.html\" target=\"_blank\">Twitter uses Apache with Unicorn</a>.</li>\n<li><a href=\"https://github.com/blog/517-unicorn\" target=\"_blank\">GitHub uses nginx with Unicorn</a>.</li>\n</ul><h1>More Cool Stuff</h1>\n\n<h2>JRuby vs Ruby</h2>\n\n<ul><li>2011: <a href=\"http://torquebox.org/news/2011/02/23/benchmarking-torquebox/\" target=\"_blank\">http://torquebox.org/news/2011/02/23/benchmarking-torquebox/</a></li>\n<li>2011: <a href=\"http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/\" target=\"_blank\">http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/</a></li>\n<li>It’s worth pointing out that Unicorn comes out ahead of the other non-JRuby servers in all the benchmarks that are anywhere near a real-world situation.</li>\n</ul><h2>Passenger in development</h2>\n\n<ul><li>2010: <a href=\"http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/\" target=\"_blank\">http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/</a></li>\n</ul><h2>Twitter uses MySQL for storing Tweets, and Cassandra for statistics and datamining</h2>\n\n<ul><li>2010: <a href=\"http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html\" target=\"_blank\">http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html</a></li>\n</ul></p>","is_current_item":true,"is_root_item":true}]}
date: 2011-03-19
---


<h1>Summary</h1>

<ul><li><a href="http://unicorn.bogomips.org/" target="_blank">Unicorn</a>&rsquo;s deployment strategy is superior to Passenger&rsquo;s, it allows upgrades of application code and even of the Unicorn binary itself without downtime. Oh yeah, and its also faster and uses less memory than passenger.</li>
<li><a href="http://nginx.org/" target="_blank">Nninx</a> seems to be easier to configure and its purported to be faster and use less memory than apache.</li>
</ul><h1>Side notes</h1>

<ul><li><a href="http://code.macournoyer.com/thin/" target="_blank">Thin</a> is great for serving up tiny, fast requests, and has better memory usage than anything else.</li>
<li><a href="http://www.modrails.com/" target="_blank">Passenger</a> has some cases where it may periodically respond to some requests when its overloaded.</li>
</ul><h2>Server Benchmarking</h2>

<ul><li><a href="http://code.google.com/p/httperf/" target="_blank">httperf</a></li>
<li><a href="http://www.xenoclast.org/autobench/" target="_blank">autobench</a> is a perl wrapper for httperf that adds features.</li>
<li><a href="http://openwebload.sourceforge.net/" target="_blank">OpenWebLoad</a></li>
<li><a href="http://httpd.apache.org/docs/2.0/programs/ab.html" target="_blank">apachebench</a></li>
<li><a href="http://loadimpact.com/" target="_blank">LoadImpact</a> is a pay-for service for testing servers.</li>
</ul><h1>References</h1>

<h2>Setup Guide for nginx and Unicorn</h2>

<ul><li>2010: <a href="http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/" target="_blank">http://techbot.me/2010/08/deployment-recipes-deploying-monitoring-and-securing-your-rails-application-to-a-clean-ubuntu-10-04-install-using-nginx-and-unicorn/</a></li>
<li>2011: <a href="http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html" target="_blank">http://brandontilley.com/2011/01/29/serving-rails-apps-with-rvm-nginx-unicorn-and-upstart.html</a></li>
</ul><h2>Passenger, Thin, Unicorn</h2>

<ul><li>2009: <a href="https://github.com/blog/517-unicorn" target="_blank">https://github.com/blog/517-unicorn</a></li>
<li>2010: <a href="http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark" target="_blank">http://snaprails.tumblr.com/post/489274578/ruby-web-servers-benchmark</a></li>
<li>2010: <a href="http://engineering.twitter.com/2010/03/unicorn-power.html" target="_blank">http://engineering.twitter.com/2010/03/unicorn-power.html</a></li>
</ul><h2>Info on Unicorn</h2>

<ul><li>2010: <a href="http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/" target="_blank">http://www.engineyard.com/blog/2010/everything-you-need-to-know-about-unicorn/</a></li>
</ul><h2>Info on Passenger (note the nginx graph)</h2>

<ul><li>2010: <a href="http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/" target="_blank">http://blog.phusion.nl/2010/10/18/phusion-passenger-3-0-0-final-released/</a></li>
</ul><h2>Web servers</h2>

<ul><li>2011: <a href="http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/" target="_blank">http://xenforo.com/community/threads/apache-vs-nginx-vs-lighttpd.12484/</a></li>
<li>2010: <a href="http://www.mariusv.com/nginx-vs-apache-1-0/" target="_blank">http://www.mariusv.com/nginx-vs-apache-1-0/</a></li>
<li>2010: <a href="http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose" target="_blank">http://serverfault.com/questions/143238/nginx-vs-apache-as-reverse-proxy-which-one-to-choose</a></li>
<li>2010: <a href="http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer" target="_blank">http://stackoverflow.com/questions/475386/apache-vs-nginx-vs-lighttpd-which-is-simpler-to-configure-and-administer</a></li>
</ul><h2>Popular services&rsquo; server choices</h2>

<ul><li><a href="http://engineering.twitter.com/2010/03/unicorn-power.html" target="_blank">Twitter uses Apache with Unicorn</a>.</li>
<li><a href="https://github.com/blog/517-unicorn" target="_blank">GitHub uses nginx with Unicorn</a>.</li>
</ul><h1>More Cool Stuff</h1>

<h2>JRuby vs Ruby</h2>

<ul><li>2011: <a href="http://torquebox.org/news/2011/02/23/benchmarking-torquebox/" target="_blank">http://torquebox.org/news/2011/02/23/benchmarking-torquebox/</a></li>
<li>2011: <a href="http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/" target="_blank">http://torquebox.org/news/2011/03/14/benchmarking-torquebox-round2/</a></li>
<li>It&rsquo;s worth pointing out that Unicorn comes out ahead of the other non-JRuby servers in all the benchmarks that are anywhere near a real-world situation.</li>
</ul><h2>Passenger in development</h2>

<ul><li>2010: <a href="http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/" target="_blank">http://blog.phusion.nl/2010/07/01/the-road-to-passenger-3-technology-preview-3-closing-the-gap-between-development-and-production-rethinking-the-word-easy/</a></li>
</ul><h2>Twitter uses MySQL for storing Tweets, and Cassandra for statistics and datamining</h2>

<ul><li>2010: <a href="http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html" target="_blank">http://engineering.twitter.com/2010/07/cassandra-at-twitter-today.html</a></li>
</ul>
