---
slug: rails-31-stable-branch-compass-sass-and-the
fulldate: Thu Jul 21 2011 04:51:06 GMT-0500 (CDT)
tags:
title: Rails 3.1 Beta & Compass
id: 7880721127
link: http://anthonymcook.com/post/7880721127/rails-31-stable-branch-compass-sass-and-the
raw: {"blog_name":"anthonymcook","id":7880721127,"post_url":"http://anthonymcook.com/post/7880721127/rails-31-stable-branch-compass-sass-and-the","slug":"rails-31-stable-branch-compass-sass-and-the","type":"text","date":"2011-07-21 09:51:06 GMT","timestamp":1311241866,"state":"published","format":"markdown","reblog_key":"xfSDEOoD","tags":[],"short_url":"http://tmblr.co/Z8I8zx7LkaBd","summary":"Rails 3.1 (stable branch), Compass, Sass, and the Asset Pipeline","recommended_source":null,"recommended_color":null,"highlighted":[],"note_count":0,"title":"Rails 3.1 (stable branch), Compass, Sass, and the Asset Pipeline","body":"<p>I put together a new Rails application to try out the new version of Rails, and during the course of testing it I came across an odd problem..</p>\n\n<p>My pages were unstyled.</p>\n\n<p>Checking Chrome&rsquo;s devtools, I noticed the CSS files were all 404ing. Chrome and Rails obviously knew what the files were supposed to be. But they just weren&rsquo;t <em>where</em> they were supposed to be.</p>\n\n<h2>Background</h2>\n\n<p>I set up my environment with the following gems (besides the defaults):</p>\n\n<ul><li><a href=\"https://github.com/indirect/haml-rails\" title=\"Because HTML sucks.\" target=\"_blank\">haml-rails</a></li>\n<li><a href=\"https://github.com/chriseppstein/compass\" title=\"Because why not?\" target=\"_blank\">compass</a></li>\n<li><a href=\"https://github.com/mbleigh/acts-as-taggable-on\" title=\"How far tagging has come since the original, right?\" target=\"_blank\">acts-as-taggable-on</a></li>\n<li><a href=\"https://github.com/rtomayko/rdiscount\" title=\"Have you seen the benchmarks for this compared to the old BlueCloth? Holy shit.\" target=\"_blank\">rdiscount</a></li>\n<li><a href=\"https://github.com/vigetlabs/acts_as_markup\" title=\"A nice little under appreciated gem for making Markdown and related fields better playmates with Rails\" target=\"_blank\">acts_as_markup</a></li>\n<li><a href=\"https://github.com/mceachen/closure_tree\" title=\"I'm pretty sure this is voodoo, and I like it.\" target=\"_blank\">closure_tree</a></li>\n<li><a href=\"https://github.com/plataformatec/devise\" title=\"The new standard in Rails Authentication. I'll never have to write an auth system again.\" target=\"_blank\">devise</a></li>\n</ul><p>and the development/testing gems:</p>\n\n<ul><li><a href=\"https://github.com/dchelimsky/rspec-rails\" title=\"Because Test::Unit sucks.\" target=\"_blank\">rspec-rails</a></li>\n<li><a href=\"https://github.com/btakita/rr\" title=\"I prefer the syntax over RSpec\" target=\"_blank\">rr</a></li>\n<li><a href=\"https://github.com/thoughtbot/factory_girl_rails\" title=\"Because fixtures REALLY suck.\" target=\"_blank\">factory_girl_rails</a></li>\n<li><a href=\"https://github.com/blackwinter/wirble\" title=\"The colors Duke, the colors!\" target=\"_blank\">wirble</a></li>\n<li><a href=\"https://github.com/indirect/rails3-generators\" title=\"Generators for Factory Girl!\" target=\"_blank\">rails3-generators</a></li>\n<li><a href=\"https://github.com/mark-moseley/ruby-debug\" title=\"Damn bugs, get off my app!\" target=\"_blank\">ruby-debug19</a></li>\n</ul><h2>Probing the Innards</h2>\n\n<p>After encountering the error I checked my git status and it told me the files were being created in <code>public/stylesheets</code> - the old path, rather than the shiny new <code>public/assets</code> of the Rails 3.1 Asset Pipeline.</p>\n\n<p>First thing I did was start googling the errors I was encountering. I wasn&rsquo;t getting a satisfactory lead from that so I started looking at what could be interfering with the asset pipeline.</p>\n\n<p>All signs pointed to Compass.</p>\n\n<h2>Compass and Rails 3.1</h2>\n\n<p>Compass was blindsided by the massive changes to Rails with the 3.1 update, and since its not the official release yet they haven&rsquo;t 100% caught up yet.</p>\n\n<p>There&rsquo;s tons of articles, posts, and bugs to be found on it right now.</p>\n\n<p>The first thing I tried was having bundler pull from Compass&rsquo;s github:</p>\n\n<p><code>gem 'compass', :git =&gt; 'https://github.com/chriseppstein/compass.git'</code></p>\n\n<p>Unfortunately, that still didn&rsquo;t fix the problem, but I decided to leave it in.</p>\n\n<h2>The Fix</h2>\n\n<p>Then I started going through Compass&rsquo;s documentation and found the <a href=\"http://compass-style.org/help/tutorials/configuration-reference/\" target=\"_blank\">configuration options</a>.</p>\n\n<p>Eureka!</p>\n\n<p>I&rsquo;d previously done:\n<code>css_dir = 'public/assets'</code>\nAnd now with:\n<code>sass_dir = 'app/assets/stylesheets'</code></p>\n\n<p>It works!</p>\n\n<p>Hopefully this bug will get fixed in Compass soon.</p>","reblog":{"tree_html":"","comment":"<p>I put together a new Rails application to try out the new version of Rails, and during the course of testing it I came across an odd problem..</p>\n\n<p>My pages were unstyled.</p>\n\n<p>Checking Chrome’s devtools, I noticed the CSS files were all 404ing. Chrome and Rails obviously knew what the files were supposed to be. But they just weren’t <em>where</em> they were supposed to be.</p>\n\n<h2>Background</h2>\n\n<p>I set up my environment with the following gems (besides the defaults):</p>\n\n<ul><li><a href=\"https://github.com/indirect/haml-rails\" title=\"Because HTML sucks.\" target=\"_blank\">haml-rails</a></li>\n<li><a href=\"https://github.com/chriseppstein/compass\" title=\"Because why not?\" target=\"_blank\">compass</a></li>\n<li><a href=\"https://github.com/mbleigh/acts-as-taggable-on\" title=\"How far tagging has come since the original, right?\" target=\"_blank\">acts-as-taggable-on</a></li>\n<li><a href=\"https://github.com/rtomayko/rdiscount\" title=\"Have you seen the benchmarks for this compared to the old BlueCloth? Holy shit.\" target=\"_blank\">rdiscount</a></li>\n<li><a href=\"https://github.com/vigetlabs/acts_as_markup\" title=\"A nice little under appreciated gem for making Markdown and related fields better playmates with Rails\" target=\"_blank\">acts_as_markup</a></li>\n<li><a href=\"https://github.com/mceachen/closure_tree\" title=\"I'm pretty sure this is voodoo, and I like it.\" target=\"_blank\">closure_tree</a></li>\n<li><a href=\"https://github.com/plataformatec/devise\" title=\"The new standard in Rails Authentication. I'll never have to write an auth system again.\" target=\"_blank\">devise</a></li>\n</ul><p>and the development/testing gems:</p>\n\n<ul><li><a href=\"https://github.com/dchelimsky/rspec-rails\" title=\"Because Test::Unit sucks.\" target=\"_blank\">rspec-rails</a></li>\n<li><a href=\"https://github.com/btakita/rr\" title=\"I prefer the syntax over RSpec\" target=\"_blank\">rr</a></li>\n<li><a href=\"https://github.com/thoughtbot/factory_girl_rails\" title=\"Because fixtures REALLY suck.\" target=\"_blank\">factory_girl_rails</a></li>\n<li><a href=\"https://github.com/blackwinter/wirble\" title=\"The colors Duke, the colors!\" target=\"_blank\">wirble</a></li>\n<li><a href=\"https://github.com/indirect/rails3-generators\" title=\"Generators for Factory Girl!\" target=\"_blank\">rails3-generators</a></li>\n<li><a href=\"https://github.com/mark-moseley/ruby-debug\" title=\"Damn bugs, get off my app!\" target=\"_blank\">ruby-debug19</a></li>\n</ul><h2>Probing the Innards</h2>\n\n<p>After encountering the error I checked my git status and it told me the files were being created in <code>public/stylesheets</code> - the old path, rather than the shiny new <code>public/assets</code> of the Rails 3.1 Asset Pipeline.</p>\n\n<p>First thing I did was start googling the errors I was encountering. I wasn’t getting a satisfactory lead from that so I started looking at what could be interfering with the asset pipeline.</p>\n\n<p>All signs pointed to Compass.</p>\n\n<h2>Compass and Rails 3.1</h2>\n\n<p>Compass was blindsided by the massive changes to Rails with the 3.1 update, and since its not the official release yet they haven’t 100% caught up yet.</p>\n\n<p>There’s tons of articles, posts, and bugs to be found on it right now.</p>\n\n<p>The first thing I tried was having bundler pull from Compass’s github:</p>\n\n<p><code>gem 'compass', :git =&gt; 'https://github.com/chriseppstein/compass.git'</code></p>\n\n<p>Unfortunately, that still didn’t fix the problem, but I decided to leave it in.</p>\n\n<h2>The Fix</h2>\n\n<p>Then I started going through Compass’s documentation and found the <a href=\"http://compass-style.org/help/tutorials/configuration-reference/\" target=\"_blank\">configuration options</a>.</p>\n\n<p>Eureka!</p>\n\n<p>I’d previously done:\n<code>css_dir = 'public/assets'</code>\nAnd now with:\n<code>sass_dir = 'app/assets/stylesheets'</code></p>\n\n<p>It works!</p>\n\n<p>Hopefully this bug will get fixed in Compass soon.</p>"},"trail":[{"blog":{"name":"anthonymcook","active":true,"theme":{"avatar_shape":"circle","background_color":"#FAFAFA","body_font":"Helvetica Neue","header_bounds":"","header_image":"https://secure.assets.tumblr.com/images/default_header/optica_pattern_05.png?_v=671444c5f47705cce40d8aefd23df3b1","header_image_focused":"https://secure.assets.tumblr.com/images/default_header/optica_pattern_05_focused_v3.png?_v=671444c5f47705cce40d8aefd23df3b1","header_image_scaled":"https://secure.assets.tumblr.com/images/default_header/optica_pattern_05_focused_v3.png?_v=671444c5f47705cce40d8aefd23df3b1","header_stretch":true,"link_color":"#529ECC","show_avatar":true,"show_description":true,"show_header_image":true,"show_title":true,"title_color":"#444444","title_font":"Gibson","title_font_weight":"bold"}},"post":{"id":"7880721127"},"content_raw":"<p>I put together a new Rails application to try out the new version of Rails, and during the course of testing it I came across an odd problem..</p>\n\n<p>My pages were unstyled.</p>\n\n<p>Checking Chrome’s devtools, I noticed the CSS files were all 404ing. Chrome and Rails obviously knew what the files were supposed to be. But they just weren’t <em>where</em> they were supposed to be.</p>\n\n<h2>Background</h2>\n\n<p>I set up my environment with the following gems (besides the defaults):</p>\n\n<ul><li><a href=\"https://github.com/indirect/haml-rails\" title=\"Because HTML sucks.\" target=\"_blank\">haml-rails</a></li>\n<li><a href=\"https://github.com/chriseppstein/compass\" title=\"Because why not?\" target=\"_blank\">compass</a></li>\n<li><a href=\"https://github.com/mbleigh/acts-as-taggable-on\" title=\"How far tagging has come since the original, right?\" target=\"_blank\">acts-as-taggable-on</a></li>\n<li><a href=\"https://github.com/rtomayko/rdiscount\" title=\"Have you seen the benchmarks for this compared to the old BlueCloth? Holy shit.\" target=\"_blank\">rdiscount</a></li>\n<li><a href=\"https://github.com/vigetlabs/acts_as_markup\" title=\"A nice little under appreciated gem for making Markdown and related fields better playmates with Rails\" target=\"_blank\">acts_as_markup</a></li>\n<li><a href=\"https://github.com/mceachen/closure_tree\" title=\"I'm pretty sure this is voodoo, and I like it.\" target=\"_blank\">closure_tree</a></li>\n<li><a href=\"https://github.com/plataformatec/devise\" title=\"The new standard in Rails Authentication. I'll never have to write an auth system again.\" target=\"_blank\">devise</a></li>\n</ul><p>and the development/testing gems:</p>\n\n<ul><li><a href=\"https://github.com/dchelimsky/rspec-rails\" title=\"Because Test::Unit sucks.\" target=\"_blank\">rspec-rails</a></li>\n<li><a href=\"https://github.com/btakita/rr\" title=\"I prefer the syntax over RSpec\" target=\"_blank\">rr</a></li>\n<li><a href=\"https://github.com/thoughtbot/factory_girl_rails\" title=\"Because fixtures REALLY suck.\" target=\"_blank\">factory_girl_rails</a></li>\n<li><a href=\"https://github.com/blackwinter/wirble\" title=\"The colors Duke, the colors!\" target=\"_blank\">wirble</a></li>\n<li><a href=\"https://github.com/indirect/rails3-generators\" title=\"Generators for Factory Girl!\" target=\"_blank\">rails3-generators</a></li>\n<li><a href=\"https://github.com/mark-moseley/ruby-debug\" title=\"Damn bugs, get off my app!\" target=\"_blank\">ruby-debug19</a></li>\n</ul><h2>Probing the Innards</h2>\n\n<p>After encountering the error I checked my git status and it told me the files were being created in <code>public/stylesheets</code> - the old path, rather than the shiny new <code>public/assets</code> of the Rails 3.1 Asset Pipeline.</p>\n\n<p>First thing I did was start googling the errors I was encountering. I wasn’t getting a satisfactory lead from that so I started looking at what could be interfering with the asset pipeline.</p>\n\n<p>All signs pointed to Compass.</p>\n\n<h2>Compass and Rails 3.1</h2>\n\n<p>Compass was blindsided by the massive changes to Rails with the 3.1 update, and since its not the official release yet they haven’t 100% caught up yet.</p>\n\n<p>There’s tons of articles, posts, and bugs to be found on it right now.</p>\n\n<p>The first thing I tried was having bundler pull from Compass’s github:</p>\n\n<p><code>gem 'compass', :git =&gt; 'https://github.com/chriseppstein/compass.git'</code></p>\n\n<p>Unfortunately, that still didn’t fix the problem, but I decided to leave it in.</p>\n\n<h2>The Fix</h2>\n\n<p>Then I started going through Compass’s documentation and found the <a href=\"http://compass-style.org/help/tutorials/configuration-reference/\" target=\"_blank\">configuration options</a>.</p>\n\n<p>Eureka!</p>\n\n<p>I’d previously done:\n<code>css_dir = 'public/assets'</code>\nAnd now with:\n<code>sass_dir = 'app/assets/stylesheets'</code></p>\n\n<p>It works!</p>\n\n<p>Hopefully this bug will get fixed in Compass soon.</p>","content":"<p>I put together a new Rails application to try out the new version of Rails, and during the course of testing it I came across an odd problem..</p>\n\n<p>My pages were unstyled.</p>\n\n<p>Checking Chrome’s devtools, I noticed the CSS files were all 404ing. Chrome and Rails obviously knew what the files were supposed to be. But they just weren’t <em>where</em> they were supposed to be.</p>\n\n<h2>Background</h2>\n\n<p>I set up my environment with the following gems (besides the defaults):</p>\n\n<ul><li><a href=\"https://github.com/indirect/haml-rails\" title=\"Because HTML sucks.\" target=\"_blank\">haml-rails</a></li>\n<li><a href=\"https://github.com/chriseppstein/compass\" title=\"Because why not?\" target=\"_blank\">compass</a></li>\n<li><a href=\"https://github.com/mbleigh/acts-as-taggable-on\" title=\"How far tagging has come since the original, right?\" target=\"_blank\">acts-as-taggable-on</a></li>\n<li><a href=\"https://github.com/rtomayko/rdiscount\" title=\"Have you seen the benchmarks for this compared to the old BlueCloth? Holy shit.\" target=\"_blank\">rdiscount</a></li>\n<li><a href=\"https://github.com/vigetlabs/acts_as_markup\" title=\"A nice little under appreciated gem for making Markdown and related fields better playmates with Rails\" target=\"_blank\">acts_as_markup</a></li>\n<li><a href=\"https://github.com/mceachen/closure_tree\" title=\"I'm pretty sure this is voodoo, and I like it.\" target=\"_blank\">closure_tree</a></li>\n<li><a href=\"https://github.com/plataformatec/devise\" title=\"The new standard in Rails Authentication. I'll never have to write an auth system again.\" target=\"_blank\">devise</a></li>\n</ul><p>and the development/testing gems:</p>\n\n<ul><li><a href=\"https://github.com/dchelimsky/rspec-rails\" title=\"Because Test::Unit sucks.\" target=\"_blank\">rspec-rails</a></li>\n<li><a href=\"https://github.com/btakita/rr\" title=\"I prefer the syntax over RSpec\" target=\"_blank\">rr</a></li>\n<li><a href=\"https://github.com/thoughtbot/factory_girl_rails\" title=\"Because fixtures REALLY suck.\" target=\"_blank\">factory_girl_rails</a></li>\n<li><a href=\"https://github.com/blackwinter/wirble\" title=\"The colors Duke, the colors!\" target=\"_blank\">wirble</a></li>\n<li><a href=\"https://github.com/indirect/rails3-generators\" title=\"Generators for Factory Girl!\" target=\"_blank\">rails3-generators</a></li>\n<li><a href=\"https://github.com/mark-moseley/ruby-debug\" title=\"Damn bugs, get off my app!\" target=\"_blank\">ruby-debug19</a></li>\n</ul><h2>Probing the Innards</h2>\n\n<p>After encountering the error I checked my git status and it told me the files were being created in <code>public/stylesheets</code> - the old path, rather than the shiny new <code>public/assets</code> of the Rails 3.1 Asset Pipeline.</p>\n\n<p>First thing I did was start googling the errors I was encountering. I wasn’t getting a satisfactory lead from that so I started looking at what could be interfering with the asset pipeline.</p>\n\n<p>All signs pointed to Compass.</p>\n\n<h2>Compass and Rails 3.1</h2>\n\n<p>Compass was blindsided by the massive changes to Rails with the 3.1 update, and since its not the official release yet they haven’t 100% caught up yet.</p>\n\n<p>There’s tons of articles, posts, and bugs to be found on it right now.</p>\n\n<p>The first thing I tried was having bundler pull from Compass’s github:</p>\n\n<p><code>gem 'compass', :git =&gt; 'https://github.com/chriseppstein/compass.git'</code></p>\n\n<p>Unfortunately, that still didn’t fix the problem, but I decided to leave it in.</p>\n\n<h2>The Fix</h2>\n\n<p>Then I started going through Compass’s documentation and found the <a href=\"http://compass-style.org/help/tutorials/configuration-reference/\" target=\"_blank\">configuration options</a>.</p>\n\n<p>Eureka!</p>\n\n<p>I’d previously done:\n<code>css_dir = 'public/assets'</code>\nAnd now with:\n<code>sass_dir = 'app/assets/stylesheets'</code></p>\n\n<p>It works!</p>\n\n<p>Hopefully this bug will get fixed in Compass soon.</p>","is_current_item":true,"is_root_item":true}]}
date: 2011-07-21
---


<p>I put together a new Rails application to try out the new version of Rails, and during the course of testing it I came across an odd problem..</p>

<p>My pages were unstyled.</p>

<p>Checking Chrome&rsquo;s devtools, I noticed the CSS files were all 404ing. Chrome and Rails obviously knew what the files were supposed to be. But they just weren&rsquo;t <em>where</em> they were supposed to be.</p>

<h2>Background</h2>

<p>I set up my environment with the following gems (besides the defaults):</p>

<ul><li><a href="https://github.com/indirect/haml-rails" title="Because HTML sucks." target="_blank">haml-rails</a></li>
<li><a href="https://github.com/chriseppstein/compass" title="Because why not?" target="_blank">compass</a></li>
<li><a href="https://github.com/mbleigh/acts-as-taggable-on" title="How far tagging has come since the original, right?" target="_blank">acts-as-taggable-on</a></li>
<li><a href="https://github.com/rtomayko/rdiscount" title="Have you seen the benchmarks for this compared to the old BlueCloth? Holy shit." target="_blank">rdiscount</a></li>
<li><a href="https://github.com/vigetlabs/acts_as_markup" title="A nice little under appreciated gem for making Markdown and related fields better playmates with Rails" target="_blank">acts_as_markup</a></li>
<li><a href="https://github.com/mceachen/closure_tree" title="I'm pretty sure this is voodoo, and I like it." target="_blank">closure_tree</a></li>
<li><a href="https://github.com/plataformatec/devise" title="The new standard in Rails Authentication. I'll never have to write an auth system again." target="_blank">devise</a></li>
</ul><p>and the development/testing gems:</p>

<ul><li><a href="https://github.com/dchelimsky/rspec-rails" title="Because Test::Unit sucks." target="_blank">rspec-rails</a></li>
<li><a href="https://github.com/btakita/rr" title="I prefer the syntax over RSpec" target="_blank">rr</a></li>
<li><a href="https://github.com/thoughtbot/factory_girl_rails" title="Because fixtures REALLY suck." target="_blank">factory_girl_rails</a></li>
<li><a href="https://github.com/blackwinter/wirble" title="The colors Duke, the colors!" target="_blank">wirble</a></li>
<li><a href="https://github.com/indirect/rails3-generators" title="Generators for Factory Girl!" target="_blank">rails3-generators</a></li>
<li><a href="https://github.com/mark-moseley/ruby-debug" title="Damn bugs, get off my app!" target="_blank">ruby-debug19</a></li>
</ul><h2>Probing the Innards</h2>

<p>After encountering the error I checked my git status and it told me the files were being created in <code>public/stylesheets</code> - the old path, rather than the shiny new <code>public/assets</code> of the Rails 3.1 Asset Pipeline.</p>

<p>First thing I did was start googling the errors I was encountering. I wasn&rsquo;t getting a satisfactory lead from that so I started looking at what could be interfering with the asset pipeline.</p>

<p>All signs pointed to Compass.</p>

<h2>Compass and Rails 3.1</h2>

<p>Compass was blindsided by the massive changes to Rails with the 3.1 update, and since its not the official release yet they haven&rsquo;t 100% caught up yet.</p>

<p>There&rsquo;s tons of articles, posts, and bugs to be found on it right now.</p>

<p>The first thing I tried was having bundler pull from Compass&rsquo;s github:</p>

<p><code>gem 'compass', :git =&gt; 'https://github.com/chriseppstein/compass.git'</code></p>

<p>Unfortunately, that still didn&rsquo;t fix the problem, but I decided to leave it in.</p>

<h2>The Fix</h2>

<p>Then I started going through Compass&rsquo;s documentation and found the <a href="http://compass-style.org/help/tutorials/configuration-reference/" target="_blank">configuration options</a>.</p>

<p>Eureka!</p>

<p>I&rsquo;d previously done:
<code>css_dir = 'public/assets'</code>
And now with:
<code>sass_dir = 'app/assets/stylesheets'</code></p>

<p>It works!</p>

<p>Hopefully this bug will get fixed in Compass soon.</p>
