<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    Living Social security holes // digital. [nomad]
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">
<meta name="generator" content="Hugo 0.14" />

  <meta property="og:title" content="Living Social security holes" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />
<meta property="og:url" content="http://anthonymcook.com/articles/living-social-security-holes/" />


  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="/css/redlounge.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png?v=2">

  
  <link href="" rel="alternate" type="application/rss+xml" title="digital. [nomad]" />

  <link rel="stylesheet" href="/css/highlight.css"><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script>

  

  

  <link rel="stylesheet" href="/css/site.css">
</head>

<body>
  

  <div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4">
  <div class="header">
    

    

    <h1 class="brand-title">digital. [nomad]</h1>
    <h2 class="brand-tagline">the digital frontier</h2>

    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item">
          <a href="http://anthonymcook.com">
            <span class="nav-item-separator">//</span>Home
          </a>
        </li>
        

        
        
        <li class="nav-item">
          <a class="sidebar-nav-item
            
              active
            " href="/articles/">
            <span class="nav-item-separator">//</span>articles
          </a>
        </li>
        
        <li class="nav-item">
          <a class="sidebar-nav-item
            " href="/images/">
            <span class="nav-item-separator">//</span>images
          </a>
        </li>
        
        <li class="nav-item">
          <a class="sidebar-nav-item
            " href="/shorts/">
            <span class="nav-item-separator">//</span>shorts
          </a>
        </li>
        
      </ul>

      <h2 class="brand-tagline">recent</h2>
      <ul class="nav-list">
        
        
        <li class="nav-item"><a href="/articles/the-new-powerline/">
          <span class="nav-item-separator">//</span>powerline
        </a></li>
        
        <li class="nav-item"><a href="/articles/set-up-and-deploy-your-rails-app-to-heroku/">
          <span class="nav-item-separator">//</span>Rails on Heroku
        </a></li>
        
        <li class="nav-item"><a href="/articles/html5-and-client-side-storage-stack/">
          <span class="nav-item-separator">//</span>Client-Side Storage
        </a></li>
        
        <li class="nav-item"><a href="/articles/getting-more-information-about-ruby-objects/">
          <span class="nav-item-separator">//</span>deep inspect
        </a></li>
        
        <li class="nav-item"><a href="/images/i-generated-an-ablazejs-image-using-another/">
          <span class="nav-item-separator">//</span>Ablaze.js &amp; Facebook
        </a></li>
        

      </ul>
    </nav>

    

  </div>
</div>


    

    <div class="content pure-u-1 pure-u-md-3-4">
      <a name="top"></a>
      

      
      
      <div id="toc" class="pure-u-1 pure-u-md-1-4">
        <small class="toc-label">Contents</small>
        <nav id="TableOfContents">
<ul>
<li><a href="#aka-the-importance-of-server-side-validation:9daa542174f74b414ee356624a30020c">AKA the importance of server-side validation.</a></li>
</ul>
</nav>
      </div>
      
      
      <section class="post pure-u-1 pure-u-md-3-4">
        <h1 class="post-title">
          <a href="/articles/living-social-security-holes/">Living Social security holes</a>
        </h1>
        <h3 class="post-subtitle">
          
        </h3>
        
        <span class="post-date">
          <span class="post-date-month"><sup>Jan</sup></span><span class="post-date-separator">/</span><span class="post-date-year">2011</span>
        </span>
        
        
        
        

        
        

        

        

        

<aside class="url">
<a href="https://web.archive.org/web/20120120184246/http://www.deepgreencrystals.com/archives/2011/01/living-social-h.html">
<div>content excerpted from</div>
deepgreencrystals.com
</a>
</aside>

<h1 id="aka-the-importance-of-server-side-validation:9daa542174f74b414ee356624a30020c">AKA the importance of server-side validation.</h1>

<blockquote>
<p>Ok, I am in the software business and all software has bugs. Some software has more bugs than others. Some software is just simply poorly designed. Especially in areas where the application at first blush is pretty simple and anyone can hack one together in a weekend. Sometimes these hacked together weekend projects take off and become wildly popular. That is when you suddenly realize the value of professional software engineers (or not).
<br><br>
One such overnight success story is the site Living Social (full disclosure I run a competing platform at Tippr.com). While the site has been a consumer success, they have had more than their fair share of technical challenges. Initially these technical challenges had to do with scaling to meet consumer demand ( a good problem to have). Now unfortunately there are serious security and commerce transaction holes being exposed. Unfortunately Living Social is not just a site with funny pictures of cats. It is a commerce site dealing with hundreds of millions of dollars of transactions on behalf of their merchants and customers. Bugs in commerce sites can lead to GIGANTIC losses for everyone involved. This is not just &ldquo;whoops the site is down&rdquo; stuff. This is REAL MONEY.
<br><br>
Here is the latest problem. Living Social doesn&rsquo;t do server side quantity validation (at least they didn&rsquo;t yesterday). Who cares you say? Well Amazon.com for one. Their latest offer of a $20 gift certificate for $10 has the explicit restriction of ONE per customer and no gifts. You see, Amazon actually only wants to discount their product for new customers or existing customers only on $20 of merchandise. If Amazon knew there was a way to buy say 100 vouchers and receive $2000 of Amazon merchandise for $1000, they would probably blow a gasket. Jeff you better sit down. Because Living Social only validates restrictions on order quantity in the client, and not the server, there is a simple inspect element command in many browsers that lets you change the &ldquo;1&rdquo; to any number you want.
<br><br>
I won&rsquo;t go into all the details of how to perform this hack in your own client and I am only posting this near the end of the Amazon offer because I don&rsquo;t wish this liability to be any worse than it already is. Unfortunately I have received notification of this vulnerability from multiple sources today. Based on the feedback I am getting on the extensive use of this hack on this particular offer, I hazard to guess that thousands of people have exploited it. From the magnitude of the exposure, I wouldn&rsquo;t be surprised if 50-75% of the total purchases of this deal were in violation of the one per person rule (meaning that amazon only got a hundred thousand or so unique customers not over a million).
<br><br>
Bugs are unfortunately a fact of life in software. But this particular vulnerability is not a bug. It is a DESIGN flaw. Programmers took a short cut by putting quantity validation in the client. They hacked the site together and are holding it together with bailing wire. I hope for the benefit of Living Social merchants and advertisers, they take some of their $175M and hire some top notch commerce architects. This didn&rsquo;t need to happen.
<br><br>
Don&rsquo;t let anyone tell you software is easy. Don&rsquo;t trust your business to software cobbled together as a hobby that just happened to take off. Don&rsquo;t underestimate the value of good software engineering. At scale, when you are selling real volume and doing serious business, the details matter.
<br><br></p>
</blockquote>

<p>&hellip;</p>

<blockquote>
<p>UPDATE 10:58PM
<br><br>
Thank you to all of you who have written and sent further proof of this and other vulnerabilities in the Living Social system.</p>
</blockquote>

<p>&hellip;</p>

<blockquote>
<p>which confirm the hack and show purchased vouchers hitting the credit card and in a user account.
<br><br></p>

<p>In addition, I received two MORE ways to circumvent the limits by using the browser back button and a simple e-mail address hack (no I won&rsquo;t explain). A reader with the first hack purchased 7 vouchers and a guy with the second hack purchased 5 vouchers.
<br><br>
Business Insider has also made a note of this hack and contacted the company. The CEO claims that they &ldquo;intentionally&rdquo; designed their system this way (uhm, ok Tim) and that the server takes care of everything later at settlement. Well I am sure the server does that NOW that the vulnerability is public and I am glad for Amazon&rsquo;s sake that the site is working overtime to fix this problem. Tim further suggests that the problem is not wide spread and that client side hacks are not showing up in the number sold. The screen shots above tell a different story. I have an inbox full in screen shots like that. One person with 100 vouchers in their account. That is not a client side hack that was ignored by the server. 100 of the over million sold were certainly sold to one person. The number sold on the live site that ticks along as people purchase is certainly overstating the unique purchasers by some significant amount. Maybe I just have alot of hacker friends and my 50-75% overstatement is off. When LS runs their &ldquo;server side reconciliation&rdquo; and washes out all the gamers (as they claim they will), I wonder if they will issue the &ldquo;adjusted&rdquo; number sold. I suspect not, especially if it tarnishes in any way their &ldquo;biggest day ever&rdquo;.
<br><br>
But this post is not about Living Social sales. It is about quality software development and doing right by your business partners in the deal business. If there were alot of gamers, Amazon just gave 50% off on over $25M worth of merchandise that they probably would have sold at full price to these same people anyway. Amazon are incredible at measuring the ROI on any promotion. If this one turns out to be a dud, I doubt they would admit it publicly, but they will know.
<br><br>
Daily deals done right on a quality software platform with appropriate controls can be the most effective customer acquisition tool an advertiser has. Done poorly they can degrade your brand and erode your value proposition. I hope this Amazon promotion ends up the former not the later.
<br><br></p>
</blockquote>

<aside>
<strong>EDIT:</strong>
<em>There have since been some follow up articles from other blogs and news outlets.</em>
</aside>

<aside class="url">
<a href="http://www.businessinsider.com/livingsocial-server-flaw-2011-1">
<div>businessinsider.com</div>
LivingSocial Server Flaw
</a>
</aside>

<aside class="url">
<a href=" https://news.ycombinator.com/item?id=2122693 ">
<div>hacker news @ news.ycombinator.com</div>
LivingSocial Hacked
</a>
</aside>


        

        
        <div class="tags-list">
          <span class="dark-red">Tags</span><span class="decorative-marker">//</span>
          
          <a class="post-tag post-tag-security" href="http://anthonymcook.com/tags/security">security</a>,
          
        </div>
        

        
        <div class="paging pure-g">
          <hr class="thin"/>
          <div class="paging-newer pure-u-1-5">
          
            <a class="paging-link" href="/shorts/webserver-in-bash-with-under-100-lines-of-code/">
              <span class="dark-red">Newer</span>
              <span class="decorative-marker">//</span>Webserver in Bash with Under 100 Lines of code
            </a>
          
          </div>
          <span class="paging-label pure-u-3-5">&#x21e0; Read More &#x21e2;</span>
          <div class="paging-older pure-u-1-5">
            
            <a class="paging-link" href="/articles/my-fork-of-gitx/">
              <span class="dark-red">Older</span>
              <span class="decorative-marker">//</span>GitX
            </a>
            
          </div>
        </div>
        
      </section>
      
      
      

    </div>
  </div>
  

  

  
</body>
</html>
